<div>
  <%= render partial: "layouts/header" %>
  <%= render partial: "layouts/sidebar" %>
</div>
<div class="pt-[72px] pl-[184px]">
  <div class="px-14">
    <%= link_to user_event_works_path(current_user.id, @event.id), class: "block mt-10 text-main-blue leading-none" do %>
      <div class="flex gap-x-2 w-fit stroke-main-blue hover:text-main-bluehover hover:stroke-main-bluehover">
        <%= embedded_svg('back-image', class: "") %>
        <div>戻る</div>
      </div>
    <% end %>
    <h1 class="mt-6 text-2xl text-main-black font-bold">
      仕事の修正
    </h1>
    <div class="my-6 text-main-black">
      人員が不要な時間を選択してください
    </div>
    <div class="w-full overflow-x-scroll border-x border-line-100">
      <table class="border border-line-100">
        <tr width="120px" height="32px">
          <th class="bg-[#EBEBEB] border-r border-b border-line-100 min-w-[120px]"></th>
          <% @schedules.each do |schedule| %>
            <th class="bg-[#EBEBEB] border-r border-b border-line-100 text-main-black leading-none min-w-[72px] w-[72px]">
              <%= schedule.time_zone %>
            </th>
          <% end %>
        </tr>
        <% @works.each do |work| %>
          <tr height="32px" width="120px" align="center" class="text-base font-bold border-b border-line-100">
            <td class="px-1 text-left border-r border-line-100 text-main-black">
              <%= work.name %>
            </td>
            <% @schedules.each do |schedule| %>
              <% if WorksSchedule.exists?(schedule_id: schedule.id, work_id: work.id) %>
                <td class="border-r border-line-100 bg-main-blue">
                  <%= button_to "必要", user_event_works_schedule_path(current_user.id, @event.id, work.id, schedule.id), method: :delete, class: "block w-full h-full text-main-white" %>
                </td>
              <% else %>
                <td class="border-r border-line-100 pb-1 bg-[#A9A9A9]"></td>
              <% end %>
            <% end %>
          </tr>
        <% end %>
      </table>
    </div>
  </div>
</div>
